import{UNESCAPE_RE as i}from"@mdit/helper";const l=(s,n)=>{const r=s.posMax,p=s.pos;if(s.src.charAt(p)!=="~"||n||p+2>=r)return!1;s.pos=p+1;let e=!1;for(;s.pos<r;){if(s.src.charAt(s.pos)==="~"){e=!0;break}s.md.inline.skipToken(s)}if(!e||p+1===s.pos)return s.pos=p,!1;const t=s.src.slice(p+1,s.pos);if(/(^|[^\\])(\\\\)*\s/u.exec(t))return s.pos=p,!1;s.posMax=s.pos,s.pos=p+1;const u=s.push("sub_open","sub",1);u.markup="~";const c=s.push("text","",0);c.content=t.replace(i,"$1");const a=s.push("sub_close","sub",-1);return a.markup="~",s.pos=s.posMax+1,s.posMax=r,!0},o=s=>{s.inline.ruler.after("emphasis","sub",l)};export{o as sub};
//# sourceMappingURL=index.js.map
